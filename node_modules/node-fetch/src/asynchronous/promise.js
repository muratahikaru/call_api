import fetch from 'node-fetch'

const getAddress = () => {
    return new Promise((resolve, reject) => {
        const url = "http://zipcloud.ibsnet.co.jp/api/search?zipcode=7830060"

        fetch(url).then(res => res.json())
            .then(json => {
                console.log("非同期処理が成功")
                return resolve(json.results[0].address1)
            }).catch(error => {
                console.log("非同期処理失敗", error)
                return reject(null)
            })
    })
};

const message = "都道府県:"
getAddress().then(address => {
    console.log(message + address)
})